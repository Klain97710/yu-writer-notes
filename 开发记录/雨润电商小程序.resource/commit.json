{"compress":true,"commitItems":[["cee62bc5-d0d8-437c-8ead-64bac36ad48d",1599794341937,"",[[1599794337042,["Administrator@WIN-T3FPCJLTUH1",[[1,0,"# 雨润电商小程序\n\n\n\n"]],[0,0],[12,12]]],[1599794347605,["Administrator@WIN-T3FPCJLTUH1",[[1,0,"---\nnote: 开发记录\n---\n"]],[12,12],[31,31]]],[1599794370753,["Administrator@WIN-T3FPCJLTUH1",[[1,30,"## 关于"]],[30,30],[35,35]]],[1599794443539,["Administrator@WIN-T3FPCJLTUH1",[[1,35,"兼容iPhoneX及以上机型底部xunibar"]],[35,35],[58,58]]],[1599794444961,["Administrator@WIN-T3FPCJLTUH1",[[-1,51,"xunibar"]],[58,58],[51,51]]],[1599794454602,["Administrator@WIN-T3FPCJLTUH1",[[1,51,"虚拟bar的解决方案"]],[51,51],[61,61]]],[1599794455263,["Administrator@WIN-T3FPCJLTUH1",[[1,63,"\n"]],[61,61],[62,62]]],[1599794455612,["Administrator@WIN-T3FPCJLTUH1",[[1,64,"\n"]],[62,62],[63,63]]],[1599794538841,["Administrator@WIN-T3FPCJLTUH1",[[1,63,"通过百度，了解到"]],[63,63],[71,71]]],[1599794545525,["Administrator@WIN-T3FPCJLTUH1",[[-1,68,"了解到"]],[71,71],[68,68]]]],null,"Administrator@WIN-T3FPCJLTUH1"],["61ee708e-0444-4583-94f1-53814c582d6f",1600064017671,"---\nnote: 开发记录\n---\n# 雨润电商小程序\n\n## 关于兼容iPhoneX及以上机型底部虚拟bar的解决方案\n\n通过百度，\n\n",[[1600063995354,["Administrator@WIN-T3FPCJLTUH1",[[-1,63,"通过百度，"]],[63,68],[63,63]]],[1600070543422,["Administrator@WIN-T3FPCJLTUH1",[[1,63,"微信小程序适配iPhone X底部小黑条"]],[63,63],[83,83]]],[1600070626384,["Administrator@WIN-T3FPCJLTUH1",[[1,85,"\n"]],[83,83],[84,84]]],[1600070646736,["Administrator@WIN-T3FPCJLTUH1",[[1,63,"* "]],[63,63],[65,65]]],[1600070658311,["Administrator@WIN-T3FPCJLTUH1",[[1,86,"* H5适配"]],[86,86],[92,92]]],[1600070665921,["Administrator@WIN-T3FPCJLTUH1",[[-1,70,"适配iPhone X底部小黑条"]],[70,85],[70,70]]],[1600070666448,["Administrator@WIN-T3FPCJLTUH1",[[1,73,"\n* "]],[70,70],[73,73]]],[1600070669360,["Administrator@WIN-T3FPCJLTUH1",[[-1,71,"* "]],[73,73],[71,71]]],[1600070674287,["Administrator@WIN-T3FPCJLTUH1",[[1,71,"    进度款减法"]],[71,71],[80,80]]],[1600070676785,["Administrator@WIN-T3FPCJLTUH1",[[-1,75,"进度款减法"]],[80,80],[75,75]]],[1600070685173,["Administrator@WIN-T3FPCJLTUH1",[[1,75,"1  "]],[75,75],[78,78]]],[1600070685910,["Administrator@WIN-T3FPCJLTUH1",[[-1,76,"  "]],[78,78],[76,76]]],[1600070687285,["Administrator@WIN-T3FPCJLTUH1",[[1,76,"。 "]],[76,76],[78,78]]],[1600070687910,["Administrator@WIN-T3FPCJLTUH1",[[-1,76,"。 "]],[78,78],[76,76]]],[1600070698424,["Administrator@WIN-T3FPCJLTUH1",[[1,76,". 适配方案"]],[76,76],[82,82]]],[1600070700085,["Administrator@WIN-T3FPCJLTUH1",[[-1,78,"适配方案"]],[82,82],[78,78]]],[1600070735363,["Administrator@WIN-T3FPCJLTUH1",[[1,78,"使用微信官方api，getSystemInfo()中的safeArea对象"]],[78,78],[115,115]]],[1600070738137,["Administrator@WIN-T3FPCJLTUH1",[[1,115,"进行适配"]],[115,115],[119,119]]],[1600070738535,["Administrator@WIN-T3FPCJLTUH1",[[1,120,"    2. \n"]],[119,119],[127,127]]],[1600070768338,["Administrator@WIN-T3FPCJLTUH1",[[1,127,"使用苹果官方推出的css函数env()、constant()来适配"]],[127,127],[160,160]]],[1600070776260,["Administrator@WIN-T3FPCJLTUH1",[[1,168,"* \n"]],[167,167],[170,170]]],[1600070780286,["Administrator@WIN-T3FPCJLTUH1",[[-1,168,"* "]],[170,170],[168,168]]],[1600070780749,["Administrator@WIN-T3FPCJLTUH1",[[1,168," "]],[168,168],[169,169]]],[1600070781586,["Administrator@WIN-T3FPCJLTUH1",[[-1,168," "]],[169,169],[168,168]]],[1600070785712,["Administrator@WIN-T3FPCJLTUH1",[[1,168,"   "]],[168,168],[171,171]]],[1600070787123,["Administrator@WIN-T3FPCJLTUH1",[[-1,168,"   "]],[171,171],[168,168]]],[1600070793465,["Administrator@WIN-T3FPCJLTUH1",[[1,168,"    * 的刷卡缴费"]],[168,168],[179,179]]],[1600070796936,["Administrator@WIN-T3FPCJLTUH1",[[-1,175,"刷卡缴费"]],[179,179],[175,175]]],[1600070797962,["Administrator@WIN-T3FPCJLTUH1",[[-1,174,"的"]],[175,175],[174,174]]],[1600070802787,["Administrator@WIN-T3FPCJLTUH1",[[1,174,"使用苹果官方推出的css函数env()、constant()来适配"]],[174,174],[207,207]]],[1600070832823,["Administrator@WIN-T3FPCJLTUH1",[[1,209,"\n"]],[208,208],[209,209]]],[1600070881198,["Administrator@WIN-T3FPCJLTUH1",[[-1,209,"\n"],[1,210,"`"]],[209,209],[210,210]]],[1600070881599,["Administrator@WIN-T3FPCJLTUH1",[[1,210,"``"]],[210,210],[212,212]]],[1600070881624,["Administrator@WIN-T3FPCJLTUH1",[[1,212,"language\n```\n"]],[212,212],[212,220]]],[1600070885485,["Administrator@WIN-T3FPCJLTUH1",[[-1,212,"language"],[1,220,"c"]],[212,220],[213,213]]],[1600070885948,["Administrator@WIN-T3FPCJLTUH1",[[1,213,"ss"]],[213,213],[215,215]]],[1600070886197,["Administrator@WIN-T3FPCJLTUH1",[[1,216,"\n"]],[215,215],[216,216]]],[1600070902036,["Administrator@WIN-T3FPCJLTUH1",[[1,209,"\n"]],[208,208],[209,209]]],[1600070902551,["Administrator@WIN-T3FPCJLTUH1",[[1,209,"有一点要注意，在IOS11.2系统以前，可以使用constant()函数，但是在IOS11.2系统以后，这个函数就被废弃了，被env()函数替代了。"]],[209,209],[283,283]]],[1600070909986,["Administrator@WIN-T3FPCJLTUH1",[[1,209,"\n"]],[208,208],[209,209]]],[1600070910476,["Administrator@WIN-T3FPCJLTUH1",[[1,209,"env()和constant()函数有个必要的**使用前提**，当网页设置`viewport-fit=cover`的时候才生效，根据微信小程序的表现和我在实际真机测试时这两个函数生效，推测小程序里的`viewport-fit`默认是`cover`。"]],[209,209],[333,333]]],[1600070925011,["Administrator@WIN-T3FPCJLTUH1",[[1,409,"\n"]],[408,408],[409,409]]],[1600070938340,["Administrator@WIN-T3FPCJLTUH1",[[1,417,"padding-bottom:  constant(safe-area-inset-bottom);  /*兼容 IOS<11.2*/  padding-bottom:  env(safe-area-inset-bottom);  /*兼容 IOS>11.2*/"]],[417,417],[548,548]]],[1600070943049,["Administrator@WIN-T3FPCJLTUH1",[[-1,484,"  "],[1,486,"\n"]],[484,486],[485,485]]],[1600070952900,["Administrator@WIN-T3FPCJLTUH1",[[1,552,"\n"]],[551,551],[552,552]]],[1600070953449,["Administrator@WIN-T3FPCJLTUH1",[[1,553,"\n"]],[552,552],[553,553]]],[1600070953675,["Administrator@WIN-T3FPCJLTUH1",[[1,553,"**注意：**env()和constant()需要同时存在，而且顺序不能换。"]],[553,553],[591,591]]],[1600070961139,["Administrator@WIN-T3FPCJLTUH1",[[1,559," "]],[559,559],[560,560]]],[1600070963232,["Administrator@WIN-T3FPCJLTUH1",[[-1,559," "]],[560,560],[559,559]]],[1600070964199,["Administrator@WIN-T3FPCJLTUH1",[[1,560," "]],[560,560],[561,561]]],[1600071032637,["Administrator@WIN-T3FPCJLTUH1",[[1,333,"er"]],[333,333],[335,335]]],[1600071033511,["Administrator@WIN-T3FPCJLTUH1",[[-1,333,"er"]],[335,335],[333,333]]],[1600071037276,["Administrator@WIN-T3FPCJLTUH1",[[1,333,"在H5中"]],[333,333],[337,337]]],[1600071050389,["Administrator@WIN-T3FPCJLTUH1",[[1,337,"则需要手动设置："]],[337,337],[345,345]]],[1600071050750,["Administrator@WIN-T3FPCJLTUH1",[[1,346,"\n"]],[345,345],[346,346]]],[1600071052675,["Administrator@WIN-T3FPCJLTUH1",[[1,346,"```"]],[346,346],[349,349]]],[1600071053586,["Administrator@WIN-T3FPCJLTUH1",[[1,350,"\n"]],[349,349],[350,350]]],[1600071054725,["Administrator@WIN-T3FPCJLTUH1",[[1,350,"```"]],[350,350],[353,353]]],[1600071056300,["Administrator@WIN-T3FPCJLTUH1",[[1,349,"html"]],[349,349],[353,353]]],[1600071056561,["Administrator@WIN-T3FPCJLTUH1",[[1,354,"\n"]],[353,353],[354,354]]],[1600071057413,["Administrator@WIN-T3FPCJLTUH1",[[1,354,"<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,viewport-fit=cover\">"]],[354,354],[442,442]]],[1600071059999,["Administrator@WIN-T3FPCJLTUH1",[[1,346,"\n"]],[345,345],[346,346]]],[1600071060812,["Administrator@WIN-T3FPCJLTUH1",[[1,448,"\n"]],[447,447],[448,448]]]],null,"Administrator@WIN-T3FPCJLTUH1"],["0bd12cf4-38c2-4e7b-971f-586bc835eb45",1600218611145,"---\nnote: 开发记录\n---\n# 雨润电商小程序\n\n## 关于兼容iPhoneX及以上机型底部虚拟bar的解决方案\n\n* 微信小程序\n    1. 使用微信官方api，getSystemInfo()中的safeArea对象进行适配\n    2. 使用苹果官方推出的css函数env()、constant()来适配\n* H5适配\n    * 使用苹果官方推出的css函数env()、constant()来适配\n\nenv()和constant()函数有个必要的**使用前提**，当网页设置`viewport-fit=cover`的时候才生效，根据微信小程序的表现和我在实际真机测试时这两个函数生效，推测小程序里的`viewport-fit`默认是`cover`。在H5中则需要手动设置：\n\n```html\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,viewport-fit=cover\">\n```\n\n有一点要注意，在IOS11.2系统以前，可以使用constant()函数，但是在IOS11.2系统以后，这个函数就被废弃了，被env()函数替代了。\n\n```css\npadding-bottom:  constant(safe-area-inset-bottom);  /*兼容 IOS<11.2*/\npadding-bottom:  env(safe-area-inset-bottom);  /*兼容 IOS>11.2*/\n```\n\n**注意：** env()和constant()需要同时存在，而且顺序不能换。\n",[[1600218564477,["Administrator@WIN-T3FPCJLTUH1",[[1,708,"\n"]],[707,707],[708,708]]],[1600218564657,["Administrator@WIN-T3FPCJLTUH1",[[1,709,"\n"]],[708,708],[709,709]]],[1600218565834,["Administrator@WIN-T3FPCJLTUH1",[[-1,709,"\n"],[1,710,"#"]],[709,709],[710,710]]],[1600218569189,["Administrator@WIN-T3FPCJLTUH1",[[1,710,"# 支付"]],[710,710],[714,714]]],[1600218576023,["Administrator@WIN-T3FPCJLTUH1",[[1,712,"uniapp微信"]],[712,712],[720,720]]],[1600218580509,["Administrator@WIN-T3FPCJLTUH1",[[1,718,"中的"]],[718,718],[720,720]]],[1600218581446,["Administrator@WIN-T3FPCJLTUH1",[[1,724,"\n\n"]],[724,724],[725,725]]],[1600218582259,["Administrator@WIN-T3FPCJLTUH1",[[1,726,"\n"]],[725,725],[726,726]]],[1600218583771,["Administrator@WIN-T3FPCJLTUH1",[[-1,726,"\n"],[1,727,"`"]],[726,726],[727,727]]],[1600218584158,["Administrator@WIN-T3FPCJLTUH1",[[1,727,"``"]],[727,727],[729,729]]],[1600218584185,["Administrator@WIN-T3FPCJLTUH1",[[1,729,"language\n```\n"]],[729,729],[729,737]]],[1600218586097,["Administrator@WIN-T3FPCJLTUH1",[[-1,729,"language"],[1,737,"j"]],[729,737],[730,730]]],[1600218588271,["Administrator@WIN-T3FPCJLTUH1",[[1,730,"avascript"]],[730,730],[739,739]]],[1600218588446,["Administrator@WIN-T3FPCJLTUH1",[[1,740,"\n"]],[739,739],[740,740]]],[1600218589198,["Administrator@WIN-T3FPCJLTUH1",[[1,740,"uni.requestPayment({\n      provider: 'wxpay',\n      timeStamp: pay_info.timeStamp, // 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符\n      nonceStr: pay_info.nonceStr, // 支付签名随机串，不长于 32 位\n      package: pay_info.package, // 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\\*\\*\\*）\n      signType: pay_info.signType, // 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\n      paySign: pay_info.sign, // 支付签名\n      success: function(res) {\n        resolve(res)\n        console.log('success:' + JSON.stringify(res));\n      },\n      fail: function(err) {\n        console.log('fail:' + JSON.stringify(err));\n        reject('支付取消')\n      },\n    })"]],[740,740],[1380,1380]]],[1600218595323,["Administrator@WIN-T3FPCJLTUH1",[[-1,765,"  "],[-1,786,"  "],[-1,907,"  "],[-1,958,"  "],[-1,1044,"  "],[-1,1108,"  "],[-1,1150,"  "],[-1,1177," "],[-1,1184," "],[-1,1198,"  "],[-1,1257,"  "],[-1,1262,"  "],[-1,1290," "],[-1,1297," "],[-1,1348,"  "],[-1,1369,"  "],[-1,1374,"  "]],[767,1380],[765,1350]]],[1600218595821,["Administrator@WIN-T3FPCJLTUH1",[[-1,763,"  "],[-1,784,"  "],[-1,901,"  "],[-1,952,"  "],[-1,1034,"  "],[-1,1098,"  "],[-1,1136,"  "],[-1,1163," "],[-1,1168," "],[-1,1182,"  "],[-1,1237,"  "],[-1,1242,"  "],[-1,1268," "],[-1,1273," "],[-1,1322,"  "],[-1,1341,"  "],[-1,1346,"  "]],[765,1350],[763,1320]]],[1600218669883,["Administrator@WIN-T3FPCJLTUH1",[[1,1325,"\n"]],[1324,1324],[1325,1325]]],[1600218670208,["Administrator@WIN-T3FPCJLTUH1",[[1,1326,"\n"]],[1325,1325],[1326,1326]]],[1600218672047,["Administrator@WIN-T3FPCJLTUH1",[[-1,1326,"\n"],[1,1327,"#"]],[1326,1326],[1327,1327]]],[1600218681147,["Administrator@WIN-T3FPCJLTUH1",[[1,1327,"# djfkafjk"]],[1327,1327],[1337,1337]]],[1600218682822,["Administrator@WIN-T3FPCJLTUH1",[[-1,1329,"djfkafjk"]],[1337,1337],[1329,1329]]],[1600218692658,["Administrator@WIN-T3FPCJLTUH1",[[1,1329,"jfjfjjfjjfjjfjjfjfjjfjfjfjjfjjfjfjfjjfjfjfjjfjfjfjjfjfjjffj"]],[1329,1329],[1388,1388]]],[1600218697271,["Administrator@WIN-T3FPCJLTUH1",[[-1,1329,"jfjfjjfjjfjjfjjfjfjjfjfjfjjfjjfjfjfjjfjfjfjjfjfjfjjfjfjjffj"]],[1388,1388],[1329,1329]]]],null,"Administrator@WIN-T3FPCJLTUH1"],["355811f9-1d34-4d79-808c-5ed0e7918ff2",1604990862002,"---\nnote: 开发记录\n---\n# 雨润电商小程序\n\n## 关于兼容iPhoneX及以上机型底部虚拟bar的解决方案\n\n* 微信小程序\n    1. 使用微信官方api，getSystemInfo()中的safeArea对象进行适配\n    2. 使用苹果官方推出的css函数env()、constant()来适配\n* H5适配\n    * 使用苹果官方推出的css函数env()、constant()来适配\n\nenv()和constant()函数有个必要的**使用前提**，当网页设置`viewport-fit=cover`的时候才生效，根据微信小程序的表现和我在实际真机测试时这两个函数生效，推测小程序里的`viewport-fit`默认是`cover`。在H5中则需要手动设置：\n\n```html\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,viewport-fit=cover\">\n```\n\n有一点要注意，在IOS11.2系统以前，可以使用constant()函数，但是在IOS11.2系统以后，这个函数就被废弃了，被env()函数替代了。\n\n```css\npadding-bottom:  constant(safe-area-inset-bottom);  /*兼容 IOS<11.2*/\npadding-bottom:  env(safe-area-inset-bottom);  /*兼容 IOS>11.2*/\n```\n\n**注意：** env()和constant()需要同时存在，而且顺序不能换。\n\n## uniapp中的微信支付\n\n```javascript\nuni.requestPayment({\n  provider: 'wxpay',\n  timeStamp: pay_info.timeStamp, // 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符\n  nonceStr: pay_info.nonceStr, // 支付签名随机串，不长于 32 位\n  package: pay_info.package, // 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\\*\\*\\*）\n  signType: pay_info.signType, // 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\n  paySign: pay_info.sign, // 支付签名\n  success: function(res) {\n    resolve(res)\n    console.log('success:' + JSON.stringify(res));\n  },\n  fail: function(err) {\n    console.log('fail:' + JSON.stringify(err));\n    reject('支付取消')\n  },\n})\n```\n\n## ",[[1604990809657,["Administrator@WIN-T3FPCJLTUH1",[[-1,1327,"# "]],[1329,1329],[1327,1327]]],[1604990810044,["Administrator@WIN-T3FPCJLTUH1",[[-1,1326,"#"],[1,1327,"\n"]],[1327,1327],[1326,1326]]]],null,"Administrator@WIN-T3FPCJLTUH1"]]}